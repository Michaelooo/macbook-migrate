# 官方迁移工具

Apple 提供的官方迁移工具是换机时的首选方案，可以完整迁移系统设置、用户账户、应用程序和文件。

## Apple 迁移助理

### 适用场景

- ✅ 换新 Mac 时的完整迁移
- ✅ 从时间机器备份恢复
- ✅ 从 Windows PC 迁移到 Mac
- ✅ 两台 Mac 直接对传

### 迁移方式

#### 方式一：雷雳/USB-C 线直连（推荐）

这是最快的方式，两台 Mac 通过线缆直接连接：

```bash
# 所需材料
- 雷雳 3/4 线缆 或 USB-C 线缆
- 两台 Mac 都连接电源
```

::: tip 注意事项
确保两台 Mac 都连接电源，避免迁移过程中断电。
:::

#### 方式二：时间机器备份

如果你有定时做时间机器备份：

1. 将外接硬盘连接到新 Mac
2. 在设置向导中选择"从时间机器备份传输"
3. 选择最近的备份进行恢复

#### 方式三：无线网络迁移

如果无法使用线缆，也可以通过无线网络迁移：

::: warning 耗时警告
无线迁移速度较慢，大型数据迁移可能需要数小时甚至数天。
:::

### 迁移步骤

1. **准备工作**

```bash
# 在旧 Mac 上
- 确保已安装最新系统更新
- 退出所有登录账户
- 关闭查找我的 Mac 功能
```

2. **启动迁移助理**

```bash
# 两台 Mac 都打开"迁移助理"
# 路径：/Applications/Utilities/Migration Assistant.app
# 或通过 Spotlight 搜索"迁移助理"
```

3. **选择迁移模式**

在旧 Mac 上选择"传输到另一台 Mac"，在新 Mac 上选择"从 Mac、时间机器备份或启动磁盘传输"。

4. **选择迁移内容**

可以选择迁移：
- 用户账户
- 应用程序
- 设置和偏好设置
- 文件和文件夹

### 优缺点

| 优点 | 缺点 |
|------|------|
| ✅ 完整迁移，无需手动配置 | ❌ 耗时久，大型数据可能需要数小时 |
| ✅ 保留所有应用程序和设置 | ❌ 可能迁移无用文件和缓存 |
| ✅ 官方工具，兼容性好 | ❌ 无法选择性迁移特定内容 |
| ✅ 支持增量迁移 | ❌ 两台 Mac 需要同时在线 |

### 迁移后建议

即使使用官方迁移工具，也建议检查以下内容：

- [ ] **SSH 密钥** - 确认私钥权限正确
- [ ] **Git 凭证** - GPG 密钥和 Personal Access Token
- [ ] **环境变量** - `.zshrc` 中的自定义配置
- [ ] **开发工具** - Homebrew、nvm 等是否正常
- [ ] **Docker** - 容器和镜像是否迁移
- [ ] **数据库** - 本地数据库数据是否完整

## 与轻量级方案结合

Apple 迁移助理迁移后，可以结合本指南的轻量级方案补充开发环境：

```mermaid
graph LR
    A[Apple 迁移助理] --> B[基础系统迁移完成]
    B --> C[运行备份脚本]
    C --> D[补充开发配置]
    D --> E[环境验证]
```

详细步骤参考 [迁移策略选择](/strategies)。

## 相关资源

- [Apple 官方迁移助理文档](https://support.apple.com/zh-cn/HT204350)
- [关于迁移助理](https://support.apple.com/zh-cn/HT44106)
